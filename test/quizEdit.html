<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>퀴즈 수정</title>
  <script>
    function loadQuizForEdit() {
      const index = localStorage.getItem('selectedQuizIndex');
      const quizzes = JSON.parse(localStorage.getItem('quizzes')) || [];
      const quiz = quizzes[index];

      document.getElementById('question').value = quiz.question;
      document.getElementById('answer1').value = quiz.answers[0];
      document.getElementById('answer2').value = quiz.answers[1];
      document.getElementById('answer3').value = quiz.answers[2];
      document.getElementById('answer4').value = quiz.answers[3];
      document.getElementById('answer5').value = quiz.answers[4];
      document.getElementById('correctAnswer').value = quiz.correctAnswer;
    }

    function updateQuiz() {
      const index = localStorage.getItem('selectedQuizIndex');
      const quizzes = JSON.parse(localStorage.getItem('quizzes'));

      quizzes[index] = {
        question: document.getElementById('question').value,
        answers: [
          document.getElementById('answer1').value,
          document.getElementById('answer2').value,
          document.getElementById('answer3').value,
          document.getElementById('answer4').value,
          document.getElementById('answer5').value,
        ],
        correctAnswer: parseInt(document.getElementById('correctAnswer').value),
      };

      localStorage.setItem('quizzes', JSON.stringify(quizzes));
      alert('퀴즈가 수정되었습니다!');
      window.location.href = 'quizListPage.html';
    }
  </script>
</head>
<body onload="loadQuizForEdit()">
  <h1>퀴즈 수정</h1>
  <form onsubmit="updateQuiz(); return false;">
    <label>질문: <input type="text" id="question" required></label><br><br>
    <label>답변 1: <input type="text" id="answer1" required></label><br><br>
    <label>답변 2: <input type="text" id="answer2" required></label><br><br>
    <label>답변 3: <input type="text" id="answer3" required></label><br><br>
    <label>답변 4: <input type="text" id="answer4" required></label><br><br>
    <label>답변 5: <input type="text" id="answer5" required></label><br><br>
    <label>정답 번호: <input type="number" id="correctAnswer" required></label><br><br>
    <button type="submit">수정</button>
  </form>
</body>
</html>
